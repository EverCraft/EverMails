plugins {
    id 'java'
    id 'eclipse'
    id 'idea'
    id 'maven'
    id 'com.github.johnrengelman.shadow' version '1.2.3'
    id 'com.github.hierynomus.license' version '0.12.1'
}

archivesBaseName = "EverMails"
group = 'fr.evercraft'
version = '1.0'

repositories {
	mavenCentral()
	maven {
		name = 'sponge'
        url = 'http://repo.spongepowered.org/maven'
	}
}

configurations {
    shadow
}

dependencies {
	compile "org.spongepowered:spongeapi:5.0.0-SNAPSHOT"
	compile 'javax.mail:mail:1.4.7'
	shadow 'javax.mail:mail:1.4.7'
	compile project(':EverAPI')
}

shadowJar {
configurations += [project.configurations.shadow]
  dependencies {
    include(dependency('javax.mail:mail:1.4.7'))
  }
}

jar {
    manifest {
        attributes 'Implementation-Title': archivesBaseName,
                   'Implementation-Version': version
    }
}

license {
	excludes(["**/*.yml", "**/*.txt", "**/*.conf"])
	header = file('HEADER.txt') 
}